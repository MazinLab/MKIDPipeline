!configdict
badpix: median

#TODO move this to data.yml? -Jeb
beammap: !bmap
  file: /mnt/data0/baileyji/mec/finalMap_20181218.bmap
  freqfiles: /mnt/data0/baileyji/mec/psfreq_dec/ps_freqs_FL*_clip.txt
  nrows: 146
  ncols: 140

paths: !configdict
    dithers: /mnt/data0/baileyji/mec/dithers/
    data: /mnt/data0/ScienceData/Subaru
    #a processing cache directory, calibrations, configs, etc will be retrieved/stored here
    database: /scratch/steiger/MEC/DATABASE
    out: /scratch/steiger/MEC/HD1160/output

ncpu: 7

wavecal: !configdict
  plots: summary
  fit: !configdict
    # model types from wavecal_models.py to attempt to fit to the phase peak histograms
    # (list of strings)
    histogram_model_names: ['GaussianAndExponential']
    # minimum bin width for the phase histogram. Larger widths will be used for low photon
    # count pixels (number)
    bin_width: 2
    # how many times should the code try to fit each histogram model before giving up
    histogram_fit_attempts: 3
    # model types from wavecal_models.py to attempt to fit to the phase-energy relationship
    # (list of strings)
    calibration_model_names: ['Quadratic', 'Linear']
    # ignore photons which arrive this many microseconds from another photon (number)
    dt: 500
    # do the fitting using more than one core (True/False)
    parallel: True
    parallel_prefetch: False

flatcal: !configdict
  #This section provides the parameters specific to the flat calibration function
  rate_cutoff: 20000 #Count Rate Cutoff in seconds (number)
  trim_fraction: 0 #Fraction of Chunks to trim (integer)
  #Integration time to break up larger h5 files into in seconds (number) (5 sec recommended)
  #Flatcal will calculate weights over EXPTIME/INTTIME time chunks and median-average them
  chunk_time: 30
  power: 2
  plots: summary  # None|summary|all  (all will add ~30 min to the process!)

instrument: !configdict
  #This section provides information about the specific wavelength and energy parameters for this instrument
  #deadtime (number)
  deadtime: 0.000001
  #Energy bin width in eV  (number)
  energy_bin_width: 0.01
  #Starting Wavelength in nanometers (number)
  wvl_start: 700
  #Final Wavelength in nanometers (number)
  wvl_stop: 1500
  platescale: 10.4 #mas

drizzler: !configdict
  plots: all
  pixfrac: 0.5

templar: !configdict
  file: the_conf.yml

verbose: True
