- !wc
  name: wavecal1
  backgrounds:
    - !ob
      name: background1
      start: 1545542300
      duration: 100
      header:
        ND: 2.5
  data:
    - !ob
      name: 850 nm
      start: 1545542036
      stop: 1545542178 #if stop is < start it is interpreted as the final digits
      background: background1
      comments:
        - dither at (0,0)
        - Charis_pickoff = 2 (gold mirror)
      header:
        ND: open
        lamp: 100
    - !ob
      name: 950 nm
      start: 1545542180
      stop: 1545542310
      header:
        ND: open
        lamp: 100
    - !ob
      name: 1100 nm
      start: 1545542340
      stop: 1545542450
      header:
        ND: .5
        lamp: 40
    - !ob
      name: 1250 nm
      start: 1545542463
      stop: 1545542575
      header:
        ND: 1
        lamp: 40
    - !ob
      name: 1375 nm
      start: 1545542578
      duration: 297       #duration may be used instead of stop
      header:
        ND: 1.0
        lamp: 40

- !fc
  name: flatcal1
  ob: !sob
    name: 1100 nm dummy
    start: 1545542345
    stop: 1545542395
    wavecal: wavecal1 #or wsoln or filename
    header:
      ND: .5
      lamp: 40
  header:
    foo: .5
    bar: 40

- !fc  #Use a wavecal as the basis of a flat e.g. when WL flats aren't available
  name: flatcal2
  wavecal: wavecal1 # or wsoln or filename
  header:
    foo: .5
    bar: 40

#- !fc  #Use a
#  name: flatcal3
#  wavecal: !wsoln
#    file: 2018-12-23 051888891e1e27c48f09da56342a914aed89.npz
#  header:
#    foo: .5
#    bar: 40

- !wcscal
  name: wcscal1
  ob: !sob
    name: 1250 nm
    start: 1545542463
    stop: 1545542575
    wavecal: wavecal1
    header:
      ND: 1
      lamp: 40

- !wcscal
  name: wcscal2
  platescale: 10  #mas/pix eg x~10
  dither_ref: [73, 70]  #pix units ie 0<x<150  - where the center of rotation is relative to corner of image
  dither_home: [0.0, 0.0]  #conex units ie -3<x<3  - conex made a grid around this origin
  header:
    ND: 1
    lamp: 40

- !sc
  name: speccal1
  data:
    - !dither
      name: Hip109427_dither
      target: Hip109427
      observatory: Subaru
      instrument: MEC
      approximate_time: 1602047815
      wcscal: wcscal1
      wavecal: wavecal1
      flatcal: flatcal1
      ra: 22 10 11.9852752
      dec: +06 11 52.307750

  aperture_radius: 3
  object_position: (143, 126)
  # if true will move the aperture with the satellite spot as a function of wavelength
  use_satellite_spots: True #assumes 25 nm amplitude astrogrid (standard for Subaru)
  #url link to a standard spectrum text file must be in 2 column format where first column is wvl in angstroms and
  #second column is flux in erg/s/cm^2/A
  standard_path: '/data/steiger/MEC/20201006/Hip109427/PHEONIX_spectrum/Hip109427_synthetic_spectrum_primary.txt'

- !dither
  name: HIP 10680
  file: HD10680_1545544478_dither.log
  wcscal: wcscal2
  wavecal: wavecal1
  flatcal: flatcal2
  comments:
    - Beta Pic moving group
    - No known planets or disks, but a good young target
    - 113mas Lyot
    - astrogrid

- !dither
  name: Hip109427_dither
  approximate_time: 1596278720
  wcscal: wcscal1
  wavecal: wavecal1
  flatcal: flatcal1
  target: Hip109427
  observatory: Subaru
  instrument: MEC
  ra: 22 10 11.9852752
  dec: +06 11 52.307750
  comments:
    -ND 1.0

- !dither
  name: WL_dither
  file: /mnt/data0/baileyji/mec/scratch/dither.log  # dither.log absolute paths work
  wcscal: wcscal1
  wavecal: wavecal1
  flatcal: flatcal1
  target: WL
  ra: 00:00:00.0
  dec: +00:00:00.0
  observatory: Subaru
  instrument: MEC

- !sob
  name: garbage
  start: 1545542340
  stop: 1545542450
  wcscal: wcscal2
  wavecal: wavecal1
  flatcal: flatcal2
  header:
    ND: .5
    lamp: 40